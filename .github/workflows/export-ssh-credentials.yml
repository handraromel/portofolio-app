name: Export SSH Credentials (DELETE AFTER USE)

# WARNING: This workflow exposes sensitive credentials
# Only run this manually when needed, download the artifact, then DELETE this file

on:
  workflow_dispatch: # Manual trigger only

jobs:
  export-secrets:
    runs-on: ubuntu-latest

    steps:
      - name: Create credentials directory
        run: mkdir -p ssh-credentials

      - name: Export SSH credentials to files
        run: |
          echo "${{ secrets.DOCKERHUB_USERNAME }}" > ssh-credentials/dockerhub_username.txt
          echo "${{ secrets.DOCKERHUB_TOKEN }}" > ssh-credentials/dockerhub_token.txt

      - name: Upload credentials as artifact
        uses: actions/upload-artifact@v4
        with:
          name: ssh-credentials
          path: ssh-credentials/
          retention-days: 1
